require 'rest-client'

class DemosController < ApplicationController
  before_action :set_demo, only: [:show, :edit, :update, :destroy]

  # GET /demos
  # GET /demos.json
  def index
    @tokenjson = flash[:tokenjson]
    @rainbowurl = flash[:rainbowurl]
    @response = flash[:response]

  end

  # GET /demos/1
  # GET /demos/1.json
  def show
  end

  # GET /demos/new
  def new
    @demo = Demo.new
  end

  # GET /demos/1/edit
  def edit
  end

  # POST /demos
  # POST /demos.json
  def create
    @demo = Demo.new(demo_params)

    respond_to do |format|
      if @demo.save
        format.html { redirect_to @demo, notice: 'Demo was successfully created.' }
        format.json { render :show, status: :created, location: @demo }
      else
        format.html { render :new }
        format.json { render json: @demo.errors, status: :unprocessable_entity }
      end
    end
  end

  # PATCH/PUT /demos/1
  # PATCH/PUT /demos/1.json
  def update
    respond_to do |format|
      if @demo.update(demo_params)
        format.html { redirect_to @demo, notice: 'Demo was successfully updated.' }
        format.json { render :show, status: :ok, location: @demo }
      else
        format.html { render :edit }
        format.json { render json: @demo.errors, status: :unprocessable_entity }
      end
    end
  end

  # DELETE /demos/1
  # DELETE /demos/1.json
  def destroy
    @demo.destroy
    respond_to do |format|
      format.html { redirect_to demos_url, notice: 'Demo was successfully destroyed.' }
      format.json { head :no_content }
    end
  end

  def requestToken
    resource = RestClient::Resource.new( "https://evening-refuge-64130.herokuapp.com/token/get?clientkey=Y5dl1emvVaunYViDrp/FmEOlSUtkCpMTB6uj0ZDzZp4=")
    response = resource.get()
    @tokenjson = JSON.parse(response, object_class: OpenStruct)
    flash[:tokenjson] = @tokenjson
    redirect_to "/demos"
  end

  def getRainbowGraph
    s = [{ "metadata": { "title": "", "primary_value_label": "rank average", "higher_primary_value_better": false, "values_label": "ranks", "higher_values_better": false, "best_value_possible": 1, "worst_value_possible": 5, "y_axis_label": "Rank Average", "x_axis_label": "Students", "color_scheme": "5b", "secondary_value_label": "variance", "critic_comparer_flag": "yes", "self_assess_flag": "yes" }, "data": [{ "first_name": "Jonathan", "last_name": "Diaz", "column_url": "http://localhost:3000/assignments/584/responses/42846/showcrit?crit_assignment_id=594", "primary_value": 1.0, "secondary_value": 0.0, "values": [1, 1, 1, 1, 1], "self_assess_value": 3 , "student_id": 744, "critic_comparer_vector": [{ "rank": 1, "critic_id": 1222, "critic_peers": [679, 744, 708, 1360, 724] }, { "rank": 1, "critic_id": 797, "critic_peers": [1238, 81, 1245, 679, 744] }, { "rank": 1, "critic_id": 1223, "critic_peers": [1225, 679, 744, 708, 1360] }, { "rank": 1, "critic_id": 1249, "critic_peers": [744, 708, 1360, 1222, 724] }, { "rank": 1, "critic_id": 1252, "critic_peers": [1238, 1245, 679, 744, 708] }] }, { "first_name": "Ryan", "last_name": "Jones", "column_url": "http://localhost:3000/assignments/584/responses/42130/showcrit?crit_assignment_id=594", "primary_value": 1.1666666666666667, "secondary_value": 0.0, "values": [1, 1, 1, 1, 1, 2], "self_assess_value": 2 , "student_id": 1221, "critic_comparer_vector": [{ "rank": 1, "critic_id": 1226, "critic_peers": [991, 1221, 1238, 81, 1245] }, { "rank": 1, "critic_id": 1236, "critic_peers": [1353, 1086, 1225, 991, 1221] }, { "rank": 1, "critic_id": 1225, "critic_peers": [991, 1221, 1238, 81, 1245] }, { "rank": 1, "critic_id": 1246, "critic_peers": [1221, 1238, 81, 1245, 679] }, { "rank": 2, "critic_id": 1238, "critic_peers": [1086, 1225, 991, 1221, 81] }, { "rank": 1, "critic_id": 1262, "critic_peers": [991, 1221, 1238, 81, 1245] }] }, { "first_name": "Keyaanna", "last_name": "Pausch", "column_url": "http://localhost:3000/assignments/584/responses/42201/showcrit?crit_assignment_id=594", "primary_value": 1.6, "secondary_value": 0.0, "values": [0, 1, 1, 1, 2, 3], "self_assess_value": 5 , "student_id": 723, "critic_comparer_vector": [{ "rank": 3, "critic_id": 795, "critic_peers": [723, 738, 1248, 1279, 1226] }, { "rank": 2, "critic_id": 812, "critic_peers": [1220, 837, 1250, 723, 738] }, { "rank": 1, "critic_id": 1230, "critic_peers": [1250, 723, 738, 1248, 1279] }, { "rank": 1, "critic_id": 1242, "critic_peers": [1220, 837, 1250, 723, 738] }, { "rank": 0, "critic_id": 1254, "critic_peers": [837, 1250, 723, 738, 1248] }, { "rank": 1, "critic_id": 1216, "critic_peers": [723, 738, 1248, 1279, 1226] }] }, { "first_name": "Kristel", "last_name": "Sanchez", "column_url": "http://localhost:3000/assignments/584/responses/42253/showcrit?crit_assignment_id=594", "primary_value": 1.6666666666666667, "secondary_value": 0.0, "values": [1, 1, 1, 2, 2, 3], "self_assess_value": 1 , "student_id": 1225, "critic_comparer_vector": [{ "rank": 1, "critic_id": 1233, "critic_peers": [1262, 1229, 1353, 1086, 1225] }, { "rank": 2, "critic_id": 1236, "critic_peers": [1353, 1086, 1225, 991, 1221] }, { "rank": 2, "critic_id": 1223, "critic_peers": [1225, 679, 744, 708, 1360] }, { "rank": 1, "critic_id": 1248, "critic_peers": [1229, 1353, 1086, 1225, 991] }, { "rank": 3, "critic_id": 1238, "critic_peers": [1086, 1225, 991, 1221, 81] }, { "rank": 1, "critic_id": 708, "critic_peers": [1262, 1229, 1353, 1086, 1225] }] }, { "first_name": "Brenna", "last_name": "Monson", "column_url": "http://localhost:3000/assignments/584/responses/42427/showcrit?crit_assignment_id=594", "primary_value": 1.6666666666666667, "secondary_value": 0.0, "values": [1, 1, 1, 2, 2, 3], "self_assess_value": 5 , "student_id": 1231, "critic_comparer_vector": [{ "rank": 2, "critic_id": 1086, "critic_peers": [1246, 1253, 1231, 1243, 1240] }, { "rank": 1, "critic_id": 1221, "critic_peers": [1231, 1243, 1240, 1247, 1242] }, { "rank": 2, "critic_id": 965, "critic_peers": [800, 1246, 1253, 1231, 1243] }, { "rank": 1, "critic_id": 1232, "critic_peers": [1253, 1231, 1243, 1240, 1247] }, { "rank": 3, "critic_id": 1256, "critic_peers": [1235, 800, 1246, 1253, 1231] }, { "rank": 1, "critic_id": 270, "critic_peers": [1246, 1253, 1231, 1243, 1240] }] }, { "first_name": "Jacob", "last_name": "Sullivan", "column_url": "http://localhost:3000/assignments/584/responses/42858/showcrit?crit_assignment_id=594", "primary_value": 1.75, "secondary_value": 0.0, "values": [0, 1, 1, 2, 3], "self_assess_value": 3 , "student_id": 270, "critic_comparer_vector": [{ "rank": 1, "critic_id": 1227, "critic_peers": [1222, 797, 270, 965, 812] }, { "rank": 2, "critic_id": 1240, "critic_peers": [270, 965, 812, 1251, 671] }, { "rank": 1, "critic_id": 1247, "critic_peers": [1222, 724, 797, 270, 965] }, { "rank": 3, "critic_id": 1253, "critic_peers": [797, 270, 965, 812, 1251] }, { "rank": 0, "critic_id": 1275, "critic_peers": [1360, 1222, 724, 797, 270] }] }, { "first_name": "Xavier", "last_name": "McDonald", "column_url": "http://localhost:3000/assignments/584/responses/42849/showcrit?crit_assignment_id=594", "primary_value": 1.75, "secondary_value": 0.0, "values": [0, 1, 1, 2, 3], "self_assess_value": 1 , "student_id": 797, "critic_comparer_vector": [{ "rank": 3, "critic_id": 1227, "critic_peers": [1222, 797, 270, 965, 812] }, { "rank": 1, "critic_id": 744, "critic_peers": [708, 1360, 1222, 724, 797] }, { "rank": 2, "critic_id": 1247, "critic_peers": [1222, 724, 797, 270, 965] }, { "rank": 1, "critic_id": 1253, "critic_peers": [797, 270, 965, 812, 1251] }, { "rank": 0, "critic_id": 1275, "critic_peers": [1360, 1222, 724, 797, 270] }] }, { "first_name": "Connor", "last_name": "Golobich", "column_url": "http://localhost:3000/assignments/584/responses/42125/showcrit?crit_assignment_id=594", "primary_value": 1.75, "secondary_value": 0.0, "values": [0, 0, 1, 2, 2, 2], "self_assess_value": 4 , "student_id": 1236, "critic_comparer_vector": [{ "rank": 1, "critic_id": 671, "critic_peers": [1336, 1216, 1227, 1236, 1233] }, { "rank": 2, "critic_id": 1228, "critic_peers": [1227, 1236, 1233, 1262, 1229] }, { "rank": 2, "critic_id": 1245, "critic_peers": [1226, 1336, 1216, 1227, 1236] }, { "rank": 2, "critic_id": 1241, "critic_peers": [1216, 1227, 1236, 1233, 1262] }, { "rank": 0, "critic_id": 800, "critic_peers": [1236, 1233, 1262, 1229, 1353] }, { "rank": 0, "critic_id": 1360, "critic_peers": [1336, 1216, 1227, 1236, 1233] }] }, { "first_name": "Michael", "last_name": "Warnick", "column_url": "http://localhost:3000/assignments/584/responses/43955/showcrit?crit_assignment_id=594", "primary_value": 1.75, "secondary_value": 0.0, "values": [0, 1, 2, 2, 2], "self_assess_value": 5 , "student_id": 812, "critic_comparer_vector": [{ "rank": 2, "critic_id": 1227, "critic_peers": [1222, 797, 270, 965, 812] }, { "rank": 1, "critic_id": 1240, "critic_peers": [270, 965, 812, 1251, 671] }, { "rank": 0, "critic_id": 1234, "critic_peers": [812, 1251, 671, 1237, 1228] }, { "rank": 2, "critic_id": 1253, "critic_peers": [797, 270, 965, 812, 1251] }, { "rank": 2, "critic_id": 1279, "critic_peers": [965, 812, 1251, 671, 1237] }] }, { "first_name": "Walker", "last_name": "Mckenzie", "column_url": "http://localhost:3000/assignments/584/responses/43222/showcrit?crit_assignment_id=594", "primary_value": 2.0, "secondary_value": 0.0, "values": [0, 0, 1, 2, 2, 3], "self_assess_value": 1 , "student_id": 1224, "critic_comparer_vector": [{ "rank": 3, "critic_id": 991, "critic_peers": [729, 1223, 1224, 1232] }, { "rank": 2, "critic_id": 1220, "critic_peers": [1224, 1235, 800, 1246, 1253] }, { "rank": 1, "critic_id": 723, "critic_peers": [1237, 1228, 729, 1223, 1224] }, { "rank": 0, "critic_id": 1239, "critic_peers": [729, 1223, 1224, 1232, 1230] }, { "rank": 2, "critic_id": 738, "critic_peers": [1224, 1232, 1230, 1241, 1252] }, { "rank": 0, "critic_id": 1244, "critic_peers": [1228, 729, 1223, 1224, 1232] }] }, { "first_name": "Alex", "last_name": "Haddad", "column_url": "http://localhost:3000/assignments/584/responses/42457/showcrit?crit_assignment_id=594", "primary_value": 2.0, "secondary_value": 0.0, "values": [0, 0, 1, 1, 2, 4], "self_assess_value": 3 , "student_id": 1227, "critic_comparer_vector": [{ "rank": 2, "critic_id": 671, "critic_peers": [1336, 1216, 1227, 1236, 1233] }, { "rank": 1, "critic_id": 1228, "critic_peers": [1227, 1236, 1233, 1262, 1229] }, { "rank": 4, "critic_id": 1245, "critic_peers": [1226, 1336, 1216, 1227, 1236] }, { "rank": 1, "critic_id": 1241, "critic_peers": [1216, 1227, 1236, 1233, 1262] }, { "rank": 0, "critic_id": 1250, "critic_peers": [1279, 1226, 1336, 1216, 1227] }, { "rank": 0, "critic_id": 1360, "critic_peers": [1336, 1216, 1227, 1236, 1233] }] }, { "first_name": "Alexander", "last_name": "Gross", "column_url": "http://localhost:3000/assignments/584/responses/43939/showcrit?crit_assignment_id=594", "primary_value": 2.0, "secondary_value": 0.0, "values": [0, 1, 2, 2, 2, 3], "self_assess_value": 5 , "student_id": 1250, "critic_comparer_vector": [{ "rank": 2, "critic_id": 1229, "critic_peers": [1247, 1242, 1220, 837, 1250] }, { "rank": 1, "critic_id": 812, "critic_peers": [1220, 837, 1250, 723, 738] }, { "rank": 2, "critic_id": 1230, "critic_peers": [1250, 723, 738, 1248, 1279] }, { "rank": 2, "critic_id": 1242, "critic_peers": [1220, 837, 1250, 723, 738] }, { "rank": 0, "critic_id": 1254, "critic_peers": [837, 1250, 723, 738, 1248] }, { "rank": 3, "critic_id": 1353, "critic_peers": [1247, 1242, 1220, 837, 1250] }] }, { "first_name": "Terrance", "last_name": "Toyser", "column_url": "http://localhost:3000/assignments/584/responses/43902/showcrit?crit_assignment_id=594", "primary_value": 2.1666666666666665, "secondary_value": 0.0, "values": [1, 1, 1, 3, 3, 4], "self_assess_value": 1 , "student_id": 800, "critic_comparer_vector": [{ "rank": 3, "critic_id": 679, "critic_peers": [1230, 1241, 1252, 1235, 800] }, { "rank": 4, "critic_id": 1220, "critic_peers": [1224, 1235, 800, 1246, 1253] }, { "rank": 1, "critic_id": 965, "critic_peers": [800, 1246, 1253, 1231, 1243] }, { "rank": 3, "critic_id": 837, "critic_peers": [1241, 1252, 1235, 800, 1246] }, { "rank": 1, "critic_id": 1256, "critic_peers": [1235, 800, 1246, 1253, 1231] }, { "rank": 1, "critic_id": 1336, "critic_peers": [1230, 1241, 1252, 1235, 800] }] }, { "first_name": "Olivia", "last_name": "Fishwick", "column_url": "http://localhost:3000/assignments/584/responses/43234/showcrit?crit_assignment_id=594", "primary_value": 2.1666666666666665, "secondary_value": 0.0, "values": [1, 2, 2, 2, 2, 4], "self_assess_value": 3 , "student_id": 1235, "critic_comparer_vector": [{ "rank": 4, "critic_id": 679, "critic_peers": [1230, 1241, 1252, 1235, 800] }, { "rank": 1, "critic_id": 1220, "critic_peers": [1224, 1235, 800, 1246, 1253] }, { "rank": 2, "critic_id": 1231, "critic_peers": [1232, 1230, 1241, 1252, 1235] }, { "rank": 2, "critic_id": 837, "critic_peers": [1241, 1252, 1235, 800, 1246] }, { "rank": 2, "critic_id": 1256, "critic_peers": [1235, 800, 1246, 1253, 1231] }, { "rank": 2, "critic_id": 1336, "critic_peers": [1230, 1241, 1252, 1235, 800] }] }, { "first_name": "Christian", "last_name": "Wolf", "column_url": "http://localhost:3000/assignments/584/responses/43936/showcrit?crit_assignment_id=594", "primary_value": 2.25, "secondary_value": 0.0, "values": [0, 1, 2, 3, 3], "self_assess_value": 5 , "student_id": 671, "critic_comparer_vector": [{ "rank": 1, "critic_id": 1243, "critic_peers": [1251, 671, 1237, 1228, 729] }, { "rank": 3, "critic_id": 1240, "critic_peers": [270, 965, 812, 1251, 671] }, { "rank": 0, "critic_id": 1234, "critic_peers": [812, 1251, 671, 1237, 1228] }, { "rank": 2, "critic_id": 1251, "critic_peers": [671, 1237, 1228, 729, 1223] }, { "rank": 3, "critic_id": 1279, "critic_peers": [965, 812, 1251, 671, 1237] }] }, { "first_name": "Warissara", "last_name": "Phupaibul", "column_url": "http://localhost:3000/assignments/584/responses/42097/showcrit?crit_assignment_id=594", "primary_value": 2.3333333333333335, "secondary_value": 0.0, "values": [2, 2, 2, 2, 3, 3], "self_assess_value": 4 , "student_id": 1238, "critic_comparer_vector": [{ "rank": 3, "critic_id": 1226, "critic_peers": [991, 1221, 1238, 81, 1245] }, { "rank": 2, "critic_id": 797, "critic_peers": [1238, 81, 1245, 679, 744] }, { "rank": 3, "critic_id": 1225, "critic_peers": [991, 1221, 1238, 81, 1245] }, { "rank": 2, "critic_id": 1246, "critic_peers": [1221, 1238, 81, 1245, 679] }, { "rank": 2, "critic_id": 1252, "critic_peers": [1238, 1245, 679, 744, 708] }, { "rank": 2, "critic_id": 1262, "critic_peers": [991, 1221, 1238, 81, 1245] }] }, { "first_name": "Holly", "last_name": "Schranz", "column_url": "http://localhost:3000/assignments/584/responses/42116/showcrit?crit_assignment_id=594", "primary_value": 2.3333333333333335, "secondary_value": 0.0, "values": [1, 2, 2, 3, 3, 3], "self_assess_value": 5 , "student_id": 1220, "critic_comparer_vector": [{ "rank": 3, "critic_id": 1229, "critic_peers": [1247, 1242, 1220, 837, 1250] }, { "rank": 3, "critic_id": 812, "critic_peers": [1220, 837, 1250, 723, 738] }, { "rank": 2, "critic_id": 729, "critic_peers": [1240, 1247, 1242, 1220, 837] }, { "rank": 3, "critic_id": 1242, "critic_peers": [1220, 837, 1250, 723, 738] }, { "rank": 2, "critic_id": 81, "critic_peers": [1243, 1240, 1247, 1242, 1220] }, { "rank": 1, "critic_id": 1353, "critic_peers": [1247, 1242, 1220, 837, 1250] }] }, { "first_name": "Jack", "last_name": "McConnell", "column_url": "http://localhost:3000/assignments/584/responses/42848/showcrit?crit_assignment_id=594", "primary_value": 2.5, "secondary_value": 0.0, "values": [1, 1, 1, 2, 5, 5], "self_assess_value": 5 , "student_id": 1242, "critic_comparer_vector": [{ "rank": 1, "critic_id": 1229, "critic_peers": [1247, 1242, 1220, 837, 1250] }, { "rank": 5, "critic_id": 1221, "critic_peers": [1231, 1243, 1240, 1247, 1242] }, { "rank": 1, "critic_id": 729, "critic_peers": [1240, 1247, 1242, 1220, 837] }, { "rank": 5, "critic_id": 1237, "critic_peers": [1242, 1248, 1279, 1226, 1336] }, { "rank": 1, "critic_id": 81, "critic_peers": [1243, 1240, 1247, 1242, 1220] }, { "rank": 2, "critic_id": 1353, "critic_peers": [1247, 1242, 1220, 837, 1250] }] }, { "first_name": "Cristina", "last_name": "Smith", "column_url": "http://localhost:3000/assignments/584/responses/42105/showcrit?crit_assignment_id=594", "primary_value": 2.5, "secondary_value": 0.0, "values": [0, 0, 2, 2, 3, 3], "self_assess_value": 2 , "student_id": 729, "critic_comparer_vector": [{ "rank": 2, "critic_id": 991, "critic_peers": [729, 1223, 1224, 1232] }, { "rank": 3, "critic_id": 1243, "critic_peers": [1251, 671, 1237, 1228, 729] }, { "rank": 2, "critic_id": 723, "critic_peers": [1237, 1228, 729, 1223, 1224] }, { "rank": 0, "critic_id": 1239, "critic_peers": [729, 1223, 1224, 1232, 1230] }, { "rank": 3, "critic_id": 1251, "critic_peers": [671, 1237, 1228, 729, 1223] }, { "rank": 0, "critic_id": 1244, "critic_peers": [1228, 729, 1223, 1224, 1232] }] }, { "first_name": "jacob", "last_name": "shingles", "column_url": "http://localhost:3000/assignments/584/responses/43950/showcrit?crit_assignment_id=594", "primary_value": 2.5, "secondary_value": 0.0, "values": [0, 0, 1, 1, 3, 5], "self_assess_value": 3 , "student_id": 1232, "critic_comparer_vector": [{ "rank": 1, "critic_id": 991, "critic_peers": [729, 1223, 1224, 1232] }, { "rank": 3, "critic_id": 1224, "critic_peers": [1223, 1232, 1230, 1241, 1252] }, { "rank": 5, "critic_id": 1231, "critic_peers": [1232, 1230, 1241, 1252, 1235] }, { "rank": 0, "critic_id": 1239, "critic_peers": [729, 1223, 1224, 1232, 1230] }, { "rank": 1, "critic_id": 738, "critic_peers": [1224, 1232, 1230, 1241, 1252] }, { "rank": 0, "critic_id": 1244, "critic_peers": [1228, 729, 1223, 1224, 1232] }] }, { "first_name": "Bikram", "last_name": "Baral", "column_url": "http://localhost:3000/assignments/584/responses/42543/showcrit?crit_assignment_id=594", "primary_value": 2.5, "secondary_value": 0.0, "values": [0, 1, 2, 3, 4], "self_assess_value": 5 , "student_id": 1237, "critic_comparer_vector": [{ "rank": 2, "critic_id": 1243, "critic_peers": [1251, 671, 1237, 1228, 729] }, { "rank": 3, "critic_id": 723, "critic_peers": [1237, 1228, 729, 1223, 1224] }, { "rank": 0, "critic_id": 1234, "critic_peers": [812, 1251, 671, 1237, 1228] }, { "rank": 4, "critic_id": 1251, "critic_peers": [671, 1237, 1228, 729, 1223] }, { "rank": 1, "critic_id": 1279, "critic_peers": [965, 812, 1251, 671, 1237] }] }, { "first_name": "Davin", "last_name": "Kim", "column_url": "http://localhost:3000/assignments/584/responses/42817/showcrit?crit_assignment_id=594", "primary_value": 2.6, "secondary_value": 0.0, "values": [0, 1, 1, 3, 3, 5], "self_assess_value": 1 , "student_id": 1226, "critic_comparer_vector": [{ "rank": 1, "critic_id": 795, "critic_peers": [723, 738, 1248, 1279, 1226] }, { "rank": 1, "critic_id": 1235, "critic_peers": [1248, 1279, 1226, 1336, 1216] }, { "rank": 3, "critic_id": 1245, "critic_peers": [1226, 1336, 1216, 1227, 1236] }, { "rank": 3, "critic_id": 1237, "critic_peers": [1242, 1248, 1279, 1226, 1336] }, { "rank": 0, "critic_id": 1250, "critic_peers": [1279, 1226, 1336, 1216, 1227] }, { "rank": 5, "critic_id": 1216, "critic_peers": [723, 738, 1248, 1279, 1226] }] }, { "first_name": "Tom", "last_name": "Trauberman", "column_url": "http://localhost:3000/assignments/584/responses/42810/showcrit?crit_assignment_id=594", "primary_value": 2.6666666666666665, "secondary_value": 0.0, "values": [1, 2, 3, 3, 3, 4], "self_assess_value": 5 , "student_id": 81, "critic_comparer_vector": [{ "rank": 4, "critic_id": 1226, "critic_peers": [991, 1221, 1238, 81, 1245] }, { "rank": 3, "critic_id": 797, "critic_peers": [1238, 81, 1245, 679, 744] }, { "rank": 2, "critic_id": 1225, "critic_peers": [991, 1221, 1238, 81, 1245] }, { "rank": 3, "critic_id": 1246, "critic_peers": [1221, 1238, 81, 1245, 679] }, { "rank": 1, "critic_id": 1238, "critic_peers": [1086, 1225, 991, 1221, 81] }, { "rank": 3, "critic_id": 1262, "critic_peers": [991, 1221, 1238, 81, 1245] }] }, { "first_name": "Alonzo", "last_name": "Celaya", "column_url": "http://localhost:3000/assignments/584/responses/43272/showcrit?crit_assignment_id=594", "primary_value": 2.75, "secondary_value": 0.0, "values": [0, 0, 1, 3, 3, 4], "self_assess_value": 2 , "student_id": 1233, "critic_comparer_vector": [{ "rank": 3, "critic_id": 671, "critic_peers": [1336, 1216, 1227, 1236, 1233] }, { "rank": 3, "critic_id": 1228, "critic_peers": [1227, 1236, 1233, 1262, 1229] }, { "rank": 1, "critic_id": 724, "critic_peers": [1233, 1262, 1229, 1353, 1086] }, { "rank": 4, "critic_id": 1241, "critic_peers": [1216, 1227, 1236, 1233, 1262] }, { "rank": 0, "critic_id": 800, "critic_peers": [1236, 1233, 1262, 1229, 1353] }, { "rank": 0, "critic_id": 1360, "critic_peers": [1336, 1216, 1227, 1236, 1233] }] }, { "first_name": "Daniel", "last_name": "Shannon-Spence", "column_url": "http://localhost:3000/assignments/584/responses/42131/showcrit?crit_assignment_id=594", "primary_value": 2.75, "secondary_value": 0.0, "values": [0, 0, 1, 2, 4, 4], "self_assess_value": 5 , "student_id": 1336, "critic_comparer_vector": [{ "rank": 4, "critic_id": 671, "critic_peers": [1336, 1216, 1227, 1236, 1233] }, { "rank": 2, "critic_id": 1235, "critic_peers": [1248, 1279, 1226, 1336, 1216] }, { "rank": 1, "critic_id": 1245, "critic_peers": [1226, 1336, 1216, 1227, 1236] }, { "rank": 4, "critic_id": 1237, "critic_peers": [1242, 1248, 1279, 1226, 1336] }, { "rank": 0, "critic_id": 1250, "critic_peers": [1279, 1226, 1336, 1216, 1227] }, { "rank": 0, "critic_id": 1360, "critic_peers": [1336, 1216, 1227, 1236, 1233] }] }, { "first_name": "Kyle", "last_name": "Doherty", "column_url": "http://localhost:3000/assignments/584/responses/42500/showcrit?crit_assignment_id=594", "primary_value": 2.8, "secondary_value": 0.0, "values": [2, 2, 3, 3, 4], "self_assess_value": 1 , "student_id": 708, "critic_comparer_vector": [{ "rank": 3, "critic_id": 1222, "critic_peers": [679, 744, 708, 1360, 724] }, { "rank": 2, "critic_id": 744, "critic_peers": [708, 1360, 1222, 724, 797] }, { "rank": 4, "critic_id": 1223, "critic_peers": [1225, 679, 744, 708, 1360] }, { "rank": 2, "critic_id": 1249, "critic_peers": [744, 708, 1360, 1222, 724] }, { "rank": 3, "critic_id": 1252, "critic_peers": [1238, 1245, 679, 744, 708] }] }, { "first_name": "Jose Maria", "last_name": "Fierro", "column_url": "http://localhost:3000/assignments/584/responses/43926/showcrit?crit_assignment_id=594", "primary_value": 2.8333333333333335, "secondary_value": 0.0, "values": [1, 2, 3, 3, 4, 4], "self_assess_value": 5 , "student_id": 1243, "critic_comparer_vector": [{ "rank": 1, "critic_id": 1086, "critic_peers": [1246, 1253, 1231, 1243, 1240] }, { "rank": 2, "critic_id": 1221, "critic_peers": [1231, 1243, 1240, 1247, 1242] }, { "rank": 4, "critic_id": 965, "critic_peers": [800, 1246, 1253, 1231, 1243] }, { "rank": 4, "critic_id": 1232, "critic_peers": [1253, 1231, 1243, 1240, 1247] }, { "rank": 3, "critic_id": 81, "critic_peers": [1243, 1240, 1247, 1242, 1220] }, { "rank": 3, "critic_id": 270, "critic_peers": [1246, 1253, 1231, 1243, 1240] }] }, { "first_name": "Cory", "last_name": "Calhoun", "column_url": "http://localhost:3000/assignments/584/responses/42234/showcrit?crit_assignment_id=594", "primary_value": 3.0, "secondary_value": 0.0, "values": [0, 1, 2, 3, 4, 5], "self_assess_value": 3 , "student_id": 1279, "critic_comparer_vector": [{ "rank": 2, "critic_id": 795, "critic_peers": [723, 738, 1248, 1279, 1226] }, { "rank": 4, "critic_id": 1235, "critic_peers": [1248, 1279, 1226, 1336, 1216] }, { "rank": 5, "critic_id": 1230, "critic_peers": [1250, 723, 738, 1248, 1279] }, { "rank": 1, "critic_id": 1237, "critic_peers": [1242, 1248, 1279, 1226, 1336] }, { "rank": 0, "critic_id": 1250, "critic_peers": [1279, 1226, 1336, 1216, 1227] }, { "rank": 3, "critic_id": 1216, "critic_peers": [723, 738, 1248, 1279, 1226] }] }, { "first_name": "Lynzie", "last_name": "Robb", "column_url": "http://localhost:3000/assignments/584/responses/42142/showcrit?crit_assignment_id=594", "primary_value": 3.0, "secondary_value": 0.0, "values": [2, 2, 3, 3, 4, 4], "self_assess_value": 1 , "student_id": 1241, "critic_comparer_vector": [{ "rank": 2, "critic_id": 679, "critic_peers": [1230, 1241, 1252, 1235, 800] }, { "rank": 2, "critic_id": 1224, "critic_peers": [1223, 1232, 1230, 1241, 1252] }, { "rank": 3, "critic_id": 1231, "critic_peers": [1232, 1230, 1241, 1252, 1235] }, { "rank": 4, "critic_id": 837, "critic_peers": [1241, 1252, 1235, 800, 1246] }, { "rank": 4, "critic_id": 738, "critic_peers": [1224, 1232, 1230, 1241, 1252] }, { "rank": 3, "critic_id": 1336, "critic_peers": [1230, 1241, 1252, 1235, 800] }] }, { "first_name": "Alexander", "last_name": "Borgen", "column_url": "http://localhost:3000/assignments/584/responses/42818/showcrit?crit_assignment_id=594", "primary_value": 3.0, "secondary_value": 0.0, "values": [1, 1, 1, 5, 5, 5], "self_assess_value": 4 , "student_id": 1252, "critic_comparer_vector": [{ "rank": 5, "critic_id": 679, "critic_peers": [1230, 1241, 1252, 1235, 800] }, { "rank": 1, "critic_id": 1224, "critic_peers": [1223, 1232, 1230, 1241, 1252] }, { "rank": 1, "critic_id": 1231, "critic_peers": [1232, 1230, 1241, 1252, 1235] }, { "rank": 1, "critic_id": 837, "critic_peers": [1241, 1252, 1235, 800, 1246] }, { "rank": 5, "critic_id": 738, "critic_peers": [1224, 1232, 1230, 1241, 1252] }, { "rank": 5, "critic_id": 1336, "critic_peers": [1230, 1241, 1252, 1235, 800] }] }, { "first_name": "Zachery", "last_name": "Reale", "column_url": "http://localhost:3000/assignments/584/responses/42547/showcrit?crit_assignment_id=594", "primary_value": 3.1666666666666665, "secondary_value": 0.0, "values": [2, 2, 3, 3, 4, 5], "self_assess_value": 3 , "student_id": 1253, "critic_comparer_vector": [{ "rank": 5, "critic_id": 1086, "critic_peers": [1246, 1253, 1231, 1243, 1240] }, { "rank": 3, "critic_id": 1220, "critic_peers": [1224, 1235, 800, 1246, 1253] }, { "rank": 3, "critic_id": 965, "critic_peers": [800, 1246, 1253, 1231, 1243] }, { "rank": 2, "critic_id": 1232, "critic_peers": [1253, 1231, 1243, 1240, 1247] }, { "rank": 4, "critic_id": 1256, "critic_peers": [1235, 800, 1246, 1253, 1231] }, { "rank": 2, "critic_id": 270, "critic_peers": [1246, 1253, 1231, 1243, 1240] }] }, { "first_name": "Abigail", "last_name": "Fraser", "column_url": "http://localhost:3000/assignments/584/responses/43994/showcrit?crit_assignment_id=594", "primary_value": 3.2, "secondary_value": 0.0, "values": [0, 2, 2, 3, 4, 5], "self_assess_value": 5 , "student_id": 1229, "critic_comparer_vector": [{ "rank": 2, "critic_id": 1233, "critic_peers": [1262, 1229, 1353, 1086, 1225] }, { "rank": 4, "critic_id": 1228, "critic_peers": [1227, 1236, 1233, 1262, 1229] }, { "rank": 3, "critic_id": 724, "critic_peers": [1233, 1262, 1229, 1353, 1086] }, { "rank": 2, "critic_id": 1248, "critic_peers": [1229, 1353, 1086, 1225, 991] }, { "rank": 0, "critic_id": 800, "critic_peers": [1236, 1233, 1262, 1229, 1353] }, { "rank": 5, "critic_id": 708, "critic_peers": [1262, 1229, 1353, 1086, 1225] }] }, { "first_name": "Dylan", "last_name": "Horyza", "column_url": "http://localhost:3000/assignments/584/responses/43238/showcrit?crit_assignment_id=594", "primary_value": 3.2, "secondary_value": 0.0, "values": [0, 1, 3, 4, 4, 4], "self_assess_value": 1 , "student_id": 1230, "critic_comparer_vector": [{ "rank": 1, "critic_id": 679, "critic_peers": [1230, 1241, 1252, 1235, 800] }, { "rank": 4, "critic_id": 1224, "critic_peers": [1223, 1232, 1230, 1241, 1252] }, { "rank": 4, "critic_id": 1231, "critic_peers": [1232, 1230, 1241, 1252, 1235] }, { "rank": 0, "critic_id": 1239, "critic_peers": [729, 1223, 1224, 1232, 1230] }, { "rank": 3, "critic_id": 738, "critic_peers": [1224, 1232, 1230, 1241, 1252] }, { "rank": 4, "critic_id": 1336, "critic_peers": [1230, 1241, 1252, 1235, 800] }] }, { "first_name": "Tetsuo", "last_name": "Yoneuchi", "column_url": "http://localhost:3000/assignments/584/responses/43250/showcrit?crit_assignment_id=594", "primary_value": 3.5, "secondary_value": 0.0, "values": [0, 3, 3, 4, 4], "self_assess_value": 5 , "student_id": 1222, "critic_comparer_vector": [{ "rank": 4, "critic_id": 1227, "critic_peers": [1222, 797, 270, 965, 812] }, { "rank": 4, "critic_id": 744, "critic_peers": [708, 1360, 1222, 724, 797] }, { "rank": 3, "critic_id": 1247, "critic_peers": [1222, 724, 797, 270, 965] }, { "rank": 3, "critic_id": 1249, "critic_peers": [744, 708, 1360, 1222, 724] }, { "rank": 0, "critic_id": 1275, "critic_peers": [1360, 1222, 724, 797, 270] }] }, { "first_name": "Rupash", "last_name": "Pudasaini", "column_url": "http://localhost:3000/assignments/584/responses/43948/showcrit?crit_assignment_id=594", "primary_value": 3.5, "secondary_value": 0.0, "values": [2, 3, 3, 4, 4, 5], "self_assess_value": 2 , "student_id": 991, "critic_comparer_vector": [{ "rank": 2, "critic_id": 1226, "critic_peers": [991, 1221, 1238, 81, 1245] }, { "rank": 3, "critic_id": 1236, "critic_peers": [1353, 1086, 1225, 991, 1221] }, { "rank": 5, "critic_id": 1225, "critic_peers": [991, 1221, 1238, 81, 1245] }, { "rank": 3, "critic_id": 1248, "critic_peers": [1229, 1353, 1086, 1225, 991] }, { "rank": 4, "critic_id": 1238, "critic_peers": [1086, 1225, 991, 1221, 81] }, { "rank": 4, "critic_id": 1262, "critic_peers": [991, 1221, 1238, 81, 1245] }] }, { "first_name": "stacy", "last_name": "wood", "column_url": "http://localhost:3000/assignments/584/responses/43275/showcrit?crit_assignment_id=594", "primary_value": 3.6, "secondary_value": 0.0, "values": [0, 2, 2, 4, 5, 5], "self_assess_value": 5 , "student_id": 1248, "critic_comparer_vector": [{ "rank": 5, "critic_id": 795, "critic_peers": [723, 738, 1248, 1279, 1226] }, { "rank": 5, "critic_id": 1235, "critic_peers": [1248, 1279, 1226, 1336, 1216] }, { "rank": 4, "critic_id": 1230, "critic_peers": [1250, 723, 738, 1248, 1279] }, { "rank": 2, "critic_id": 1237, "critic_peers": [1242, 1248, 1279, 1226, 1336] }, { "rank": 0, "critic_id": 1254, "critic_peers": [837, 1250, 723, 738, 1248] }, { "rank": 2, "critic_id": 1216, "critic_peers": [723, 738, 1248, 1279, 1226] }] }, { "first_name": "Chris ", "last_name": "Kamer", "column_url": "http://localhost:3000/assignments/584/responses/42868/showcrit?crit_assignment_id=594", "primary_value": 3.6666666666666665, "secondary_value": 0.0, "values": [3, 3, 3, 4, 4, 5], "self_assess_value": 1 , "student_id": 1240, "critic_comparer_vector": [{ "rank": 3, "critic_id": 1086, "critic_peers": [1246, 1253, 1231, 1243, 1240] }, { "rank": 3, "critic_id": 1221, "critic_peers": [1231, 1243, 1240, 1247, 1242] }, { "rank": 4, "critic_id": 729, "critic_peers": [1240, 1247, 1242, 1220, 837] }, { "rank": 3, "critic_id": 1232, "critic_peers": [1253, 1231, 1243, 1240, 1247] }, { "rank": 4, "critic_id": 81, "critic_peers": [1243, 1240, 1247, 1242, 1220] }, { "rank": 5, "critic_id": 270, "critic_peers": [1246, 1253, 1231, 1243, 1240] }] }, { "first_name": "Alexis", "last_name": "Rael", "column_url": "http://localhost:3000/assignments/584/responses/43270/showcrit?crit_assignment_id=594", "primary_value": 3.8, "secondary_value": 0.0, "values": [0, 3, 4, 4, 4, 4], "self_assess_value": 5 , "student_id": 1353, "critic_comparer_vector": [{ "rank": 3, "critic_id": 1233, "critic_peers": [1262, 1229, 1353, 1086, 1225] }, { "rank": 4, "critic_id": 1236, "critic_peers": [1353, 1086, 1225, 991, 1221] }, { "rank": 4, "critic_id": 724, "critic_peers": [1233, 1262, 1229, 1353, 1086] }, { "rank": 4, "critic_id": 1248, "critic_peers": [1229, 1353, 1086, 1225, 991] }, { "rank": 0, "critic_id": 800, "critic_peers": [1236, 1233, 1262, 1229, 1353] }, { "rank": 4, "critic_id": 708, "critic_peers": [1262, 1229, 1353, 1086, 1225] }] }, { "first_name": "Benjamin", "last_name": "Shaul", "column_url": "http://localhost:3000/assignments/584/responses/43932/showcrit?crit_assignment_id=594", "primary_value": 4.0, "secondary_value": 0.0, "values": [0, 2, 3, 5, 5, 5], "self_assess_value": 1 , "student_id": 1262, "critic_comparer_vector": [{ "rank": 5, "critic_id": 1233, "critic_peers": [1262, 1229, 1353, 1086, 1225] }, { "rank": 5, "critic_id": 1228, "critic_peers": [1227, 1236, 1233, 1262, 1229] }, { "rank": 2, "critic_id": 724, "critic_peers": [1233, 1262, 1229, 1353, 1086] }, { "rank": 5, "critic_id": 1241, "critic_peers": [1216, 1227, 1236, 1233, 1262] }, { "rank": 0, "critic_id": 800, "critic_peers": [1236, 1233, 1262, 1229, 1353] }, { "rank": 3, "critic_id": 708, "critic_peers": [1262, 1229, 1353, 1086, 1225] }] }, { "first_name": "Brenda", "last_name": "McCaffrey", "column_url": "http://localhost:3000/assignments/584/responses/42495/showcrit?crit_assignment_id=594", "primary_value": 4.0, "secondary_value": 0.0, "values": [0, 0, 3, 3, 5, 5], "self_assess_value": 5 , "student_id": 1216, "critic_comparer_vector": [{ "rank": 5, "critic_id": 671, "critic_peers": [1336, 1216, 1227, 1236, 1233] }, { "rank": 3, "critic_id": 1235, "critic_peers": [1248, 1279, 1226, 1336, 1216] }, { "rank": 5, "critic_id": 1245, "critic_peers": [1226, 1336, 1216, 1227, 1236] }, { "rank": 3, "critic_id": 1241, "critic_peers": [1216, 1227, 1236, 1233, 1262] }, { "rank": 0, "critic_id": 1250, "critic_peers": [1279, 1226, 1336, 1216, 1227] }, { "rank": 0, "critic_id": 1360, "critic_peers": [1336, 1216, 1227, 1236, 1233] }] }, { "first_name": "Zac", "last_name": "Hulke", "column_url": "http://localhost:3000/assignments/584/responses/43946/showcrit?crit_assignment_id=594", "primary_value": 4.0, "secondary_value": 0.0, "values": [0, 0, 1, 5, 5, 5], "self_assess_value": 3 , "student_id": 1223, "critic_comparer_vector": [{ "rank": 5, "critic_id": 991, "critic_peers": [729, 1223, 1224, 1232] }, { "rank": 5, "critic_id": 1224, "critic_peers": [1223, 1232, 1230, 1241, 1252] }, { "rank": 5, "critic_id": 723, "critic_peers": [1237, 1228, 729, 1223, 1224] }, { "rank": 0, "critic_id": 1239, "critic_peers": [729, 1223, 1224, 1232, 1230] }, { "rank": 1, "critic_id": 1251, "critic_peers": [671, 1237, 1228, 729, 1223] }, { "rank": 0, "critic_id": 1244, "critic_peers": [1228, 729, 1223, 1224, 1232] }] }, { "first_name": "Megan ", "last_name": "Helmick ", "column_url": "http://localhost:3000/assignments/584/responses/42214/showcrit?crit_assignment_id=594", "primary_value": 4.0, "secondary_value": 0.0, "values": [0, 3, 4, 4, 5], "self_assess_value": 5 , "student_id": 724, "critic_comparer_vector": [{ "rank": 4, "critic_id": 1222, "critic_peers": [679, 744, 708, 1360, 724] }, { "rank": 3, "critic_id": 744, "critic_peers": [708, 1360, 1222, 724, 797] }, { "rank": 4, "critic_id": 1247, "critic_peers": [1222, 724, 797, 270, 965] }, { "rank": 5, "critic_id": 1249, "critic_peers": [744, 708, 1360, 1222, 724] }, { "rank": 0, "critic_id": 1275, "critic_peers": [1360, 1222, 724, 797, 270] }] }, { "first_name": "Morgan", "last_name": "Helmick", "column_url": "http://localhost:3000/assignments/584/responses/43280/showcrit?crit_assignment_id=594", "primary_value": 4.2, "secondary_value": 0.0, "values": [0, 3, 4, 4, 5, 5], "self_assess_value": 2 , "student_id": 738, "critic_comparer_vector": [{ "rank": 4, "critic_id": 795, "critic_peers": [723, 738, 1248, 1279, 1226] }, { "rank": 5, "critic_id": 812, "critic_peers": [1220, 837, 1250, 723, 738] }, { "rank": 3, "critic_id": 1230, "critic_peers": [1250, 723, 738, 1248, 1279] }, { "rank": 5, "critic_id": 1242, "critic_peers": [1220, 837, 1250, 723, 738] }, { "rank": 0, "critic_id": 1254, "critic_peers": [837, 1250, 723, 738, 1248] }, { "rank": 4, "critic_id": 1216, "critic_peers": [723, 738, 1248, 1279, 1226] }] }, { "first_name": "Marco", "last_name": "Castillo", "column_url": "http://localhost:3000/assignments/584/responses/43223/showcrit?crit_assignment_id=594", "primary_value": 4.25, "secondary_value": 0.0, "values": [0, 4, 4, 4, 5], "self_assess_value": 5 , "student_id": 1251, "critic_comparer_vector": [{ "rank": 4, "critic_id": 1243, "critic_peers": [1251, 671, 1237, 1228, 729] }, { "rank": 5, "critic_id": 1240, "critic_peers": [270, 965, 812, 1251, 671] }, { "rank": 0, "critic_id": 1234, "critic_peers": [812, 1251, 671, 1237, 1228] }, { "rank": 4, "critic_id": 1253, "critic_peers": [797, 270, 965, 812, 1251] }, { "rank": 4, "critic_id": 1279, "critic_peers": [965, 812, 1251, 671, 1237] }] }, { "first_name": "Isaac", "last_name": "Barron", "column_url": "http://localhost:3000/assignments/584/responses/43908/showcrit?crit_assignment_id=594", "primary_value": 4.333333333333333, "secondary_value": 0.0, "values": [2, 4, 5, 5, 5, 5], "self_assess_value": 2 , "student_id": 1086, "critic_comparer_vector": [{ "rank": 4, "critic_id": 1233, "critic_peers": [1262, 1229, 1353, 1086, 1225] }, { "rank": 5, "critic_id": 1236, "critic_peers": [1353, 1086, 1225, 991, 1221] }, { "rank": 5, "critic_id": 724, "critic_peers": [1233, 1262, 1229, 1353, 1086] }, { "rank": 5, "critic_id": 1248, "critic_peers": [1229, 1353, 1086, 1225, 991] }, { "rank": 5, "critic_id": 1238, "critic_peers": [1086, 1225, 991, 1221, 81] }, { "rank": 2, "critic_id": 708, "critic_peers": [1262, 1229, 1353, 1086, 1225] }] }, { "first_name": "Mahogany", "last_name": "Lambert", "column_url": "http://localhost:3000/assignments/584/responses/42227/showcrit?crit_assignment_id=594", "primary_value": 4.333333333333333, "secondary_value": 0.0, "values": [3, 4, 4, 5, 5, 5], "self_assess_value": 5 , "student_id": 1247, "critic_comparer_vector": [{ "rank": 5, "critic_id": 1229, "critic_peers": [1247, 1242, 1220, 837, 1250] }, { "rank": 4, "critic_id": 1221, "critic_peers": [1231, 1243, 1240, 1247, 1242] }, { "rank": 3, "critic_id": 729, "critic_peers": [1240, 1247, 1242, 1220, 837] }, { "rank": 5, "critic_id": 1232, "critic_peers": [1253, 1231, 1243, 1240, 1247] }, { "rank": 5, "critic_id": 81, "critic_peers": [1243, 1240, 1247, 1242, 1220] }, { "rank": 4, "critic_id": 1353, "critic_peers": [1247, 1242, 1220, 837, 1250] }] }, { "first_name": "Craig", "last_name": "Starks", "column_url": "http://localhost:3000/assignments/584/responses/42505/showcrit?crit_assignment_id=594", "primary_value": 4.4, "secondary_value": 0.0, "values": [0, 4, 4, 4, 5, 5], "self_assess_value": 4 , "student_id": 837, "critic_comparer_vector": [{ "rank": 4, "critic_id": 1229, "critic_peers": [1247, 1242, 1220, 837, 1250] }, { "rank": 4, "critic_id": 812, "critic_peers": [1220, 837, 1250, 723, 738] }, { "rank": 5, "critic_id": 729, "critic_peers": [1240, 1247, 1242, 1220, 837] }, { "rank": 4, "critic_id": 1242, "critic_peers": [1220, 837, 1250, 723, 738] }, { "rank": 0, "critic_id": 1254, "critic_peers": [837, 1250, 723, 738, 1248] }, { "rank": 5, "critic_id": 1353, "critic_peers": [1247, 1242, 1220, 837, 1250] }] }, { "first_name": "Daeyeob", "last_name": "Chae", "column_url": "http://localhost:3000/assignments/584/responses/42094/showcrit?crit_assignment_id=594", "primary_value": 4.4, "secondary_value": 0.0, "values": [3, 4, 5, 5, 5], "self_assess_value": 5 , "student_id": 679, "critic_comparer_vector": [{ "rank": 5, "critic_id": 1222, "critic_peers": [679, 744, 708, 1360, 724] }, { "rank": 5, "critic_id": 797, "critic_peers": [1238, 81, 1245, 679, 744] }, { "rank": 3, "critic_id": 1223, "critic_peers": [1225, 679, 744, 708, 1360] }, { "rank": 4, "critic_id": 1246, "critic_peers": [1221, 1238, 81, 1245, 679] }, { "rank": 5, "critic_id": 1252, "critic_peers": [1238, 1245, 679, 744, 708] }] }, { "first_name": "ian", "last_name": "thomson", "column_url": "http://localhost:3000/assignments/584/responses/43259/showcrit?crit_assignment_id=594", "primary_value": 4.5, "secondary_value": 0.0, "values": [4, 4, 4, 5, 5, 5], "self_assess_value": 5 , "student_id": 1245, "critic_comparer_vector": [{ "rank": 5, "critic_id": 1226, "critic_peers": [991, 1221, 1238, 81, 1245] }, { "rank": 4, "critic_id": 797, "critic_peers": [1238, 81, 1245, 679, 744] }, { "rank": 4, "critic_id": 1225, "critic_peers": [991, 1221, 1238, 81, 1245] }, { "rank": 5, "critic_id": 1246, "critic_peers": [1221, 1238, 81, 1245, 679] }, { "rank": 4, "critic_id": 1252, "critic_peers": [1238, 1245, 679, 744, 708] }, { "rank": 5, "critic_id": 1262, "critic_peers": [991, 1221, 1238, 81, 1245] }] }, { "first_name": "Jordan", "last_name": "Arista", "column_url": "http://localhost:3000/assignments/584/responses/42266/showcrit?crit_assignment_id=594", "primary_value": 4.666666666666667, "secondary_value": 0.0, "values": [4, 4, 5, 5, 5, 5], "self_assess_value": 1 , "student_id": 1246, "critic_comparer_vector": [{ "rank": 4, "critic_id": 1086, "critic_peers": [1246, 1253, 1231, 1243, 1240] }, { "rank": 5, "critic_id": 1220, "critic_peers": [1224, 1235, 800, 1246, 1253] }, { "rank": 5, "critic_id": 965, "critic_peers": [800, 1246, 1253, 1231, 1243] }, { "rank": 5, "critic_id": 837, "critic_peers": [1241, 1252, 1235, 800, 1246] }, { "rank": 5, "critic_id": 1256, "critic_peers": [1235, 800, 1246, 1253, 1231] }, { "rank": 4, "critic_id": 270, "critic_peers": [1246, 1253, 1231, 1243, 1240] }] }, { "first_name": "Jennifer ", "last_name": "Harrington", "column_url": "http://localhost:3000/assignments/584/responses/42101/showcrit?crit_assignment_id=594", "primary_value": 4.666666666666667, "secondary_value": 0.0, "values": [0, 0, 4, 5, 5], "self_assess_value": 5 , "student_id": 1228, "critic_comparer_vector": [{ "rank": 5, "critic_id": 1243, "critic_peers": [1251, 671, 1237, 1228, 729] }, { "rank": 4, "critic_id": 723, "critic_peers": [1237, 1228, 729, 1223, 1224] }, { "rank": 0, "critic_id": 1234, "critic_peers": [812, 1251, 671, 1237, 1228] }, { "rank": 5, "critic_id": 1251, "critic_peers": [671, 1237, 1228, 729, 1223] }, { "rank": 0, "critic_id": 1244, "critic_peers": [1228, 729, 1223, 1224, 1232] }] }, { "first_name": "Saydi", "last_name": "Driggers", "column_url": "http://localhost:3000/assignments/584/responses/43269/showcrit?crit_assignment_id=594", "primary_value": 4.8, "secondary_value": 0.0, "values": [4, 5, 5, 5, 5], "self_assess_value": 3 , "student_id": 965, "critic_comparer_vector": [{ "rank": 5, "critic_id": 1227, "critic_peers": [1222, 797, 270, 965, 812] }, { "rank": 4, "critic_id": 1240, "critic_peers": [270, 965, 812, 1251, 671] }, { "rank": 5, "critic_id": 1247, "critic_peers": [1222, 724, 797, 270, 965] }, { "rank": 5, "critic_id": 1253, "critic_peers": [797, 270, 965, 812, 1251] }, { "rank": 5, "critic_id": 1279, "critic_peers": [965, 812, 1251, 671, 1237] }] }] }].to_json
    puts s
      resource = RestClient::Resource.new( "http://localhost:3005/configure")
    response = resource.post(s , :content_type => "application/json",:Authorization => params[:tokenjson]["table"]["token"])
    @rainbowurl = JSON.parse(response, object_class: OpenStruct)
    flash[:rainbowurl] = @rainbowurl
    flash[:tokenjson] = params[:tokenjson]
    redirect_to "/demos"
  end

  def getGraph

    flash[:rainbowurl] = params[:rainbowurl]
    flash[:tokenjson] = params[:tokenjson]
    flash[:response] = params[:rainbowurl]["table"]["url"]+"?token="+params[:tokenjson]["table"]["token"]
    redirect_to "/demos"
  end

  private
    # Use callbacks to share common setup or constraints between actions.
    def set_demo
      @demo = Demo.find(params[:id])
    end

    # Never trust parameters from the scary internet, only allow the white list through.
    def demo_params
      params.fetch(:demo, {})
    end


end
